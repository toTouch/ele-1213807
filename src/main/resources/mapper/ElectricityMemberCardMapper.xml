<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiliulou.electricity.mapper.ElectricityMemberCardMapper">


	<select id="queryList" resultType="com.xiliulou.electricity.entity.ElectricityMemberCard">
		SELECT *
		FROM t_electricity_member_card
		where del_flag=0
			<if test="status != null">
				AND status = #{status}
			</if>
			<if test="type != null">
				AND type = #{type}
			</if>
		ORDER BY create_time DESC
		limit #{offset}, #{size}
	</select>

	<select id="queryUserList" resultType="com.xiliulou.electricity.entity.ElectricityMemberCard">
        SELECT temc.*
        FROM t_electricity_member_card as temc
        left join t_franchisee_bind_card as tfbc on temc.id=tfbc.card_id
        where temc.status=0 and tfbc.franchisee_id=#{id} and temc.del_flag=0
        ORDER BY temc.create_time DESC
        limit #{offset}, #{size}
    </select>


</mapper>
