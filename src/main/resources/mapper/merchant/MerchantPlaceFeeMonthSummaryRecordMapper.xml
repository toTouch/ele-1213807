<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace= "com.xiliulou.electricity.mapper.merchant.MerchantPlaceFeeMonthSummaryRecordMapper">
    <insert id="save">
        insert into t_merchant_place_fee_month_summary_record   (month_date , place_num , month_place_fee ,tenant_id, del_flag, create_time, update_time)
        values (#{item.monthDate}, #{item.placeNum}, #{item.monthPlaceFee}, #{item.tenantId}), #{item.delFlag}, #{item.createTime}, #{item.updateTime})
    </insert>
    
    <select id="selectListByCondition" resultType="com.xiliulou.electricity.entity.merchant.MerchantPlaceFeeMonthSummaryRecord">
        select month_date , place_num , month_place_fee
        from t_merchant_place_fee_month_summary_record
        <where>
            del_flag=0
            <if test="monthDate != null and monthDate != ''">
                and month_date = #{monthDate}
            </if>
            <if test="tenantId != null">
                and tenant_id = #{tenantId}
            </if>
           <if test="type != null">
                and type = #{type}
           </if>
            <if test="franchiseeIdList != null and franchiseeIdList.size() > 0">
                and franchisee_id in
                <foreach collection="franchiseeIdList" item="franchiseeId" close=")" open="(" separator=",">
                    #{franchiseeId}
                </foreach>
            </if>
        </where>
        order by month_date desc
        <if test="offset != null and size != null">
            limit #{offset}, #{size}
        </if>
    </select>
    
    
    <select id="pageCountByCondition" resultType="java.lang.Integer">
        select count(1)
        from t_merchant_place_fee_month_summary_record
        where del_flag=0
        <if test="monthDate != null and monthDate != ''">
            and month_date = #{monthDate}
        </if>
        <if test="tenantId != null and tenantId != ''">
            and tenant_id = #{tenantId}
        </if>
        <if test="type != null">
            and type = #{type}
        </if>
        <if test="franchiseeIdList != null and franchiseeIdList.size() > 0">
            and franchisee_id in
            <foreach collection="franchiseeIdList" item="franchiseeId" close=")" open="(" separator=",">
                #{franchiseeId}
            </foreach>
        </if>
    
    </select>


</mapper>