<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiliulou.electricity.mapper.asset.AssetAllocateDetailMapper">
    <!-- 基础字段 -->
    <sql id="basic_field">
        id,
        order_no,
        tenant_id,
        asset_id,
        asset_sn,
        asset_model_id,
        asset_type,
        del_flag,
        create_time,
        update_time
    </sql>
    
    <insert id="batchInsert" keyProperty="id" useGeneratedKeys="true">
        insert into t_asset_allocate_detail(order_no, tenant_id, asset_id, asset_sn, asset_model_id, asset_type, del_flag, create_time, update_time)
        values
        <foreach item="item" index="index" collection="inventoryDetailSaveQueryModelList" separator=",">
            (#{item.orderNo},#{item.tenantId},#{item.assetId}, #{item.assetSn}, #{item.assetModelId}, #{item.assetType},  #{item.delFlag},
            #{item.createTime}, #{item.updateTime})
        </foreach>
    </insert>
    <select id="selectListByPage" resultType="com.xiliulou.electricity.bo.asset.AssetAllocateDetailBO">
        select
        <include refid="basic_field"/>
        from t_asset_allocate_detail
        where order_no=#{orderNo} and tenant_id = #{tenantId} and del_flag = 0
        order by id desc
    </select>
    
</mapper>




