<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiliulou.electricity.mapper.StoreGoodsMapper">


	<!--查询指定行数据-->
	<select id="queryList"
			resultType="com.xiliulou.electricity.entity.StoreGoods">
		select
		id, name, price,discountPrice, del_flag,
		create_time, update_time,tenant_id,store_id
		from t_store_goods
		where del_flag=0
		<if test="query.name != null and query.name != ''">
			and name = #{query.name}
		</if>
		<if test="query.beginTime != null">
			and create_time &gt;=#{query.beginTime}
		</if>
		<if test="query.endTime != null">
			and create_time &lt;=#{query.endTime}
		</if>
		<if test="query.storeId != null">
			and store_id = #{query.storeId}
		</if>
		order by create_time desc
		limit #{query.offset}, #{query.size}
	</select>

	<select id="queryCount" resultType="java.lang.Integer">
		select COUNT(1)
		from t_store_goods
		where del_flag=0
		<if test="query.name != null and query.name != ''">
			and name = #{query.name}
		</if>
		<if test="query.beginTime != null">
			and create_time &gt;=#{query.beginTime}
		</if>
		<if test="query.endTime != null">
			and create_time &lt;=#{query.endTime}
		</if>
		<if test="query.storeId != null">
			and store_id = #{query.storeId}
		</if>
	</select>


</mapper>
