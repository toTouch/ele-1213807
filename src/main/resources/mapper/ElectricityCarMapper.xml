<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiliulou.electricity.mapper.ElectricityCarMapper">


    <!--查询指定行数据-->
    <select id="queryList" resultType="com.xiliulou.electricity.vo.ElectricityCarVO">
        select
        tec.id,tec.sn,
        tec.model,tec.longitude,tec.latitude,tec.status,tec.uid,tec.user_name,tec.store_id,tec.battery_sn,tec.create_time,tec.update_time,ts.name
        from t_electricity_car tec left join t_store ts on tec.store_id=ts.id
        where del_flag=0
		<if test="query.sn != null and query.sn!=''">
			and tec.sn = #{query.sn}
		</if>
		<if test="query.model != null and query.model !=''">
			and tec.model = #{query.model}
		</if>
		<if test="query.status != null ">
			and tec.status = #{query.status}
		</if>
		<if test="query.storeId != null ">
			and tec.store_id = #{query.store_id}
		</if>
		<if test="query.batterySn != null and query.batterySn!=''">
			and tec.battery_sn = #{query.batterySn}
		</if>
		<if test="query.createTime != null">
			and tec.create_time = #{query.createTime}
		</if>
        order by tec.create_time desc
        limit #{query.offset}, #{query.size}
    </select>


</mapper>
